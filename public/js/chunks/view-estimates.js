webpackJsonp([22],{"2MVN":function(t,e){t.exports={render:function(){var t=this,e=this,r=e.$createElement,a=e._self._c||r;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-breadcrumb",{staticClass:"breadcrumbs",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"estimates"}}},[e._v("Estimates")]),e._v(" "),e.estimate.id?a("el-breadcrumb-item",[e._v(e._s(e.estimate.ref_number))]):e._e()],1),e._v(" "),Object.keys(e.errors).length>0?a("errors",{attrs:{errors:e.errors}}):e._e(),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px","margin-top":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{sm:24}},[a("product-form",{attrs:{"on-product-add":function(e){t.estimate.items.push(e)}}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px","margin-top":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{sm:24}},[a("product-table",{attrs:{editable:!0,order:e.estimate,"order-totals":e.orderTotals}})],1)],1),e._v(" "),a("hr",{staticClass:"page_hr"}),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{sm:24}},[a("el-button",{attrs:{plain:"",type:"success",loading:e.loading},on:{click:function(t){e.updateEstimate()}}},[e._v("Update")])],1)],1)],1)},staticRenderFns:[]}},MdMd:function(t,e,r){var a=r("pwt2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("466a8e72",a,!0,{})},MpRh:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(r("GzQy")),s=i(r("nCXa"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"ViewEstimate",components:{Errors:function(){return r.e(30).then(r.bind(null,"DqGP"))},ProductTable:function(){return r.e(35).then(r.bind(null,"tAls"))},ProductForm:function(){return r.e(36).then(r.bind(null,"mBvu"))}},props:{estimateId:{required:!0,type:[String,Number]}},data:function(){return{loading:!1,estimate:{},errors:{}}},computed:{orderTotals:function(){return this.estimate.cart?s.default.totals(this.estimate.items,this.estimate.cart.totals.Shipping,this.estimate.cart.totals.Discount):[{}]}},watch:{},mounted:function(){this.getEstimate()},methods:{getEstimate:function(){var t=this;this.loading=!0,a.default.get({path:"orders/"+this.estimateId}).then(function(e){t.loading=!1,t.estimate=e.data}).catch(function(e){t.errors=e,t.loading=!1})},updateEstimate:function(){var t=this;this.loading=!0,a.default.persist("put",{path:"orders/"+this.estimateId,object:this.estimate}).then(function(e){t.loading=!1,t.estimate=e.data}).catch(function(e){t.errors=e,t.loading=!1})}}}},gryR:function(t,e,r){var a=r("VU/8")(r("MpRh"),r("2MVN"),!1,function(t){r("MdMd")},null,null);t.exports=a.exports},pwt2:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])}});